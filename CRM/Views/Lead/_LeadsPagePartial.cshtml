@using CRM.Models
@using CRM.Services
@model SearchViewModel

<div>
    <div class="col-md-3 row">
        <div class="col-md-6">Page size :</div>
        <div class=" col-md-6">
            <select class="form-control" id="items_per_page">
                <option>10</option>
                <option>25</option>
                <option>50</option>
                <option>100</option>
            </select>
        </div>
    </div>
    <div class="col-md-5 row">
        <div class="col-md-6 pull-right">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                <span aria-hidden="true">Colunms</span>
            </button>
            <ul class="dropdown-menu" role="menu" data-mvcgrid-type="columnVisibilityList" data-mvcgrid-name="TestGrid" id="columns">
                @foreach (var item in Model.Columns)
                {
                    <li>
                        <a>
                            <label>
                                <input type="checkbox" name="TestGridcols" value="@item.Key" @(item.Value ? "checked" : "")>
                                @item.Key
                            </label>
                        </a>
                    </li>
                }
            </ul>
        </div>
    </div>
    <div class="col-md-4 row pull-right" style="margin-bottom: 20px;">
        <div class="col-md-4">Search :</div>
        <div class="col-md-8"><input class="form-control" id="search_value" /></div>
    </div>
</div>

<table class="table table-hover" border="1">
    <thead>
        <tr>
            @foreach (var column in Model.Columns)
            {
                if (column.Value)
                {
                    <td style="cursor : pointer;" id="">
                        <span>@column.Key</span>
                        <img class="pull-right" src="~/fonts/images/sort.png" />
                    </td>
                }
            }
            <td></td>
        </tr>
    </thead>
    <tbody>
        @foreach (var lead in Model.Items)
        {
            <tr>
                @foreach (var column in Model.Columns)
                {
                    if (column.Value)
                    {
                        <td>@(ReflectionService.GetPropValue(lead, column.Key))</td>
                    }
                }
                <td><a href="/Lead/Edit?id=@lead.Id" style="padding-right: 13px;">Edit</a><a href="/Lead/ConvertLead?id=@lead.Id">Convert</a></td>
            </tr>
        }
    </tbody>
</table>


